<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_07) on Mon Nov 27 13:18:23 CET 2006 -->
<TITLE>
ConnectionManagerFastMux
</TITLE>

<META NAME="keywords" CONTENT="org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ConnectionManagerFastMux";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ServerConnectionManagerFastMux.html" title="class in org.eodisp.remote.jeri.connection.fastmux"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConnectionManagerFastMux.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.eodisp.remote.jeri.connection.fastmux</FONT>
<BR>
Class ConnectionManagerFastMux</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>ConnectionManagerFastMux</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Provides client-side connection management using the <a
 href="../../../../../../net/jini/jeri/connection/doc-files/mux.html">Jini(TM)
 extensible remote invocation (Jini ERI) multiplexing protocol</a>
 to frame and multiplex requests and responses over connections.

 <p>A <code>ConnectionManager</code> is created by a
 connection-based <CODE>Endpoint</CODE> implemention to manage
 connections to a particular <CODE>ConnectionEndpoint</CODE>.  The <A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#newRequest(net.jini.jeri.connection.OutboundRequestHandle)"><CODE>newRequest</CODE></A> method is used to send a request to the
 connection endpoint.

 <p>Each request attempt is mapped to a new <i>session</i> of the
 Jini ERI multiplexing protocol on an established connection chosen
 by the <code>ConnectionEndpoint</code>.  Request data is written as
 the data sent for the session, and response data is read as the
 data recdeived for the session.
 
 <b>Changes for EODiSP</b>: Uses <A HREF="../../../../../../org/eodisp/remote/jeri/internal/fastmux/MuxClient.html" title="class in org.eodisp.remote.jeri.internal.fastmux"><CODE>MuxClient</CODE></A>
 that uses a maximal fragment size of 16384 instead of 1024.
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>2.0</DD>
<DT><B>Author:</B></DT>
  <DD>Sun Microsystems, Inc.</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#ConnectionManagerFastMux(net.jini.jeri.connection.ConnectionEndpoint)">ConnectionManagerFastMux</A></B>(net.jini.jeri.connection.ConnectionEndpoint&nbsp;ep)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <code>ConnectionManager</code> that manages
 client-side connections to the specified connection endpoint.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#checkIdle(long, java.util.List)">checkIdle</A></B>(long&nbsp;now,
          java.util.List&nbsp;idle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For each mux, calls checkIdle on the mux, and if checkIdle returns
 true, removes the mux and adds it to the idle list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux.OutboundMux</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#connect(net.jini.jeri.connection.OutboundRequestHandle)">connect</A></B>(net.jini.jeri.connection.OutboundRequestHandle&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls connect on the connection endpoint with the active and idle
 muxes and the specified handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#connectPending()">connectPending</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a pending connect call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;net.jini.jeri.OutboundRequestIterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#newRequest(net.jini.jeri.connection.OutboundRequestHandle)">newRequest</A></B>(net.jini.jeri.connection.OutboundRequestHandle&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an <code>OutboundRequestIterator</code> to use to send
 a new request for the specified handle to this connection
 manager's <code>ConnectionEndpoint</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html#remove(org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux.OutboundMux)">remove</A></B>(org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux.OutboundMux&nbsp;mux)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes and shuts down a mux.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ConnectionManagerFastMux(net.jini.jeri.connection.ConnectionEndpoint)"><!-- --></A><H3>
ConnectionManagerFastMux</H3>
<PRE>
public <B>ConnectionManagerFastMux</B>(net.jini.jeri.connection.ConnectionEndpoint&nbsp;ep)</PRE>
<DL>
<DD>Creates a new <code>ConnectionManager</code> that manages
 client-side connections to the specified connection endpoint.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>ep</CODE> - the connection endpoint</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="connectPending()"><!-- --></A><H3>
connectPending</H3>
<PRE>
void <B>connectPending</B>()</PRE>
<DL>
<DD>Registers a pending connect call.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="connect(net.jini.jeri.connection.OutboundRequestHandle)"><!-- --></A><H3>
connect</H3>
<PRE>
org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux.OutboundMux <B>connect</B>(net.jini.jeri.connection.OutboundRequestHandle&nbsp;handle)
                                                                                 throws java.io.IOException</PRE>
<DL>
<DD>Calls connect on the connection endpoint with the active and idle
 muxes and the specified handle. If no connection is returned, calls
 connect with the handle. In either case, if a new connection is
 returned, creates and adds a mux for it. In all cases, bumps the
 newRequest count for the mux and returns it. Removes any dead muxes
 along the way.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkIdle(long, java.util.List)"><!-- --></A><H3>
checkIdle</H3>
<PRE>
boolean <B>checkIdle</B>(long&nbsp;now,
                  java.util.List&nbsp;idle)</PRE>
<DL>
<DD>For each mux, calls checkIdle on the mux, and if checkIdle returns
 true, removes the mux and adds it to the idle list. Returns true
 if no connects are pending and no muxes remain.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="remove(org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux.OutboundMux)"><!-- --></A><H3>
remove</H3>
<PRE>
void <B>remove</B>(org.eodisp.remote.jeri.connection.fastmux.ConnectionManagerFastMux.OutboundMux&nbsp;mux)</PRE>
<DL>
<DD>Removes and shuts down a mux.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newRequest(net.jini.jeri.connection.OutboundRequestHandle)"><!-- --></A><H3>
newRequest</H3>
<PRE>
public net.jini.jeri.OutboundRequestIterator <B>newRequest</B>(net.jini.jeri.connection.OutboundRequestHandle&nbsp;handle)</PRE>
<DL>
<DD>Returns an <code>OutboundRequestIterator</code> to use to send
 a new request for the specified handle to this connection
 manager's <code>ConnectionEndpoint</code>.

 <p>If the <code>hasNext</code> method of the returned iterator
 returns <code>true</code>, the <code>next</code> method behaves
 as follows:

 <blockquote>

 The connection endpoint's <CODE>connect</CODE> method is invoked with any active connections that
 have not reached their maximum number of in-progress requests,
 any idle connections, and <code>handle</code>.  If that returns
 <code>null</code>, the endpoint's <CODE>connect</CODE>
 method is invoked with <code>handle</code>.  In either case, if
 a new connection is returned, the Jini ERI multiplexing
 protocol is started on the connection (as the client).
 Finally, the <CODE>writeRequestData</CODE> method of the connection is invoked with
 <code>handle</code> and the request output stream of the <CODE>OutboundRequest</CODE> that is created for the request.  If any
 exception is thrown while obtaining a connection from the
 endpoint or writing the request data, that exception is thrown
 to the caller.  The <code>OutboundRequest</code> returned by
 <code>next</code> will invoke the <CODE>readResponseData</CODE> method of the
 connection with the specified handle and the response input
 stream before any other data is read from the response input
 stream.  The <CODE>populateContext</CODE> and <CODE>getUnfulfilledConstraints</CODE> methods of the
 <code>OutboundRequest</code> are implemented by delegating to
 the corresponding method of the connection passing
 <code>handle</code> and the other arguments (if any).

 </blockquote>

 <p>The returned iterator might allow continued iteration if the
 connection used for the most recent request attempt was shut
 down gracefully by the server.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - a handle to identify the request in later
 invocations on the connection endpoint and its connections
<DT><B>Returns:</B><DD>an <code>OutboundRequestIterator</code> to use to send
 a new request for the specified handle to this connection
 manager's <code>ConnectionEndpoint</code>
<DT><B>Throws:</B>
<DD><CODE>java.lang.NullPointerException</CODE> - if <code>handle</code> is
 <code>null</code></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../org/eodisp/remote/jeri/connection/fastmux/ServerConnectionManagerFastMux.html" title="class in org.eodisp.remote.jeri.connection.fastmux"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/eodisp/remote/jeri/connection/fastmux/ConnectionManagerFastMux.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConnectionManagerFastMux.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
